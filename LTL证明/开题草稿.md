## 



### 一、论文概况

#### 	选题来源:

国家自然科学基金项目

#### 	中文摘要:

时序逻辑作为一种规格说明语言, 能够很好地描述程序性质。但目前时序逻辑的相关性质，只能用手工进行定理证明。针对该问题，提出了一种基于定理证明器PVS(原型验证系统)的时序逻辑自动定理证明方法。通过利用现有的定理证明器 PVS ( prototype verification   system) 对时序逻辑的语法和语义进行描述,使得原型验证系统能够正确识别时序逻辑公式，然后使用原型验证系统的规范语言描述时序逻辑的公理系统和待证定理，最后输入原型验证系统命令调用原型验证系统证明器来进行时序逻辑公式推演证明，在证明过程中，细节被原型验证系统自动地证明，使得人工仅在复杂的步骤上指导控制，从而实现半自动验证时序逻辑公式，简化了定理的证明过程。

### 二、选题依据

#### 选题意义

在计算机软件的开发过程中, 不管是一般性的 软件系统 、还是实时系统 、反应式系统、混成式系统 等安全关键性系统, 并且无论是对软件建立模型, 还 是对软件进行验证、测试 、确认, 或者是模型检查等, 都不可避免地要涉及到软件模型特性的形式描述等 问题, 例如一般性的信息管理系统软件中的条件约束、电梯控制系统中的请求-响应的时间要求 、组成锅炉系统各部件的一些控制需求 、宇宙飞船点火过程中的时差限制等特性.用形式化方法考虑验证模 型是否满足所要求的特性, 首要的问题是将特性形式地描述出来。

近年来，提高软件的可靠性与安全性日益成为紧迫的关键问题，得到学术界和工程界人员的共同关注。在国外，曾发生过因软件测试未发现的逻辑错误导制登月飞船发射失败的重大事故．传统的基于经验的软件工程方法有很大的局限性，为提高软件的可信度，各种基于形式化的方法被不断提出并用来描述和验证软件系统，其中比较常用的有4类符号系统，分别是：自动机、时序逻辑、Petri网、进程代数．一般的时序逻辑被用来描述系统的规范，可以通过模型验证的方法或定理证明的方法来验证系统的规范具有哪些性质。

时序逻辑 

模型检测与定理证明是当前主流的两种形式化验证方法．模型检测建立在模型理论基础上，验证时首先需要使用有穷状态转换系统对待验证系统建模，并使用时序逻辑公式描述系统期望的性质，然后用算法穷尽遍历系统中的状态以检测性质是否成立．当性质不成立时，模型检测能提供反例以便于错误定位．模型检测的最大优点是验证过程可通过模型检测器(如SPIN和SMV)自动完成，但缺点是受状态空间爆炸问题所限，不能适用于无穷状态系统。

自动定理证明是指把人类证明定理的过程变成能在计算机上自动实现符号演算的过程。它是典型的逻辑推理问题之一，在发展人工智能方法上起过重大作用。很多非数学领域的任务如医疗诊断、信息检索、规划制定和问题求解，都可以转换成一个定理证明问题。定理证明建立在证明理论之上，验证时首先提取系统的模型并表示为逻辑的命题、谓词、引理和定理等，待验证的性质表示为定理，然后在验证者的引导下，不断地对公理和已证明的定理应用推理规则来产生新的定理，直至推导出所需要的定理为止。定理证明最大的优点是有穷及无穷状态系统均可适用，但缺点是不能由计算机自动完成，且验证者需要具备丰富的证明经验．在实际的系统验证中，往往需要将两种方法结合起来， 互相补充进行验证。

#### 国内外研究现状

自从以色列理论计算机科学家 Pnueli 于 1977 年 首先提出时序逻辑的概念，时序逻辑相关理论便得到急速的发展与扩充，经过30年的发展，时序逻辑已经成为包含线性时序逻辑(LTL)，计算树逻辑(CTL)，区间时序逻辑(ITL)和行为时序逻辑(TLA)等众多分支的学科，并在变换系统、交互式系统、并发系统的描述与验证的应用上取得了巨大成功。ITL作为时序逻辑的一个重要分支，包含Chop，Chop—star以及Projection(proj)等时序操作符，具备了比其他时序逻辑更强的表达能力。一阶投影时序逻辑(FPTL)是一阶区间时序逻辑(FITL)的扩展，同时支持有穷模型和无穷模型，并且引入了全新的两个投影操作符Projection(prj)和Projection—plus。与ITL相比较，FPTL的投影操作符更加灵活，可以定义出Chop，Chop—Star以及ITL的投影操作符proj，适用于各类软硬件系统的描述、建模和验证。



自动定理证明是一种利用计算机完全或部分代替人工进行定理证明的方式 ．它克服了纯人工证明方法 易出错 、证明复杂等缺点 ，已成功应用于数学定理的证明以及处理器 、安全协议和程序验证中 ．主要包括两种 方法 ：完全自动定理证明和交互式定理证明。自动定理证明虽然能够使用计算机完全代替人工进行 自动推理 ，但是表达能力较弱 、适用范围有限 ．典型的定理证明器有 ACL２、HOL 和 Otter 等 ；交互式定理证明 ，也称为半自动定理证明 ，表达能力强 、灵活性高 ，能够自动地证明琐碎的细节 ，但对于一些复杂的证明需要人工参与指导 ．典型的定理证明器有 PVS 、Coq 和 Isabelle 等 ．特别地 ，原型验证系统（Prototype Verification System ，PVS）是由斯坦福研究机构开发的 ，主要由 PVS 规范语言和 PVS 证明器组成 ，提供了丰富的类型系统和强大的推理策略 。

当前存在的证明器有两个极端:一类是每一小 步证明均由用户控制的低级的证明检查器, 例如HOL , 这一类证明器只是简单地把纸面上的证明搬到了机器上, 机器本身并没有提供多少推理 .另一 类则是完全自动化的定理证明器, 如Otter 等, 用户将定理交给机器, 在没有用户的任何干预下, 能够完全依赖于机器自身的推理能力给出证明结果.这样的证明器看似很理想, 然而有着不容忽视的致命缺陷:与此类证明器相应的规格说明语言的表达能力十分有限, 因此适用范围十分有限.而 PVS支持的定理证明器正好介于上述两个极端之间, 吸纳了二者的优点, 复杂的证明过程由用户交互控制, 而简单的证明由机器自动处理, 因此其证明效率较高, 能够证明的定理范围也大为拓宽。

关于时序逻辑模型在 PVS 中的实现, 已经有不 少人做过工作

+ Amir Pnueli 和 Tamarah Arons 实现了 TLPVS [ 8] , 该 系 统 基 于 参 数 化 公 平 系 统 ( parameterized fair system, PFS) , 在 PVS 中建立了线 性时序逻辑( linear temporal logic, LTL) 模型, 是一个 比较成熟的系统.但这是一个相对较为庞大的系统,
+ Ben Moszkowski等人提出了ITL(Interval Temporal Logic)的概念，在基本时序逻辑的基础上，引入区间的概念，并提出chop时序算子，同时利用PVS规范语言对区间时序逻辑进行语义和句法编码，对ITL部分定理进行了半自动证明
+ 许庆国, 缪淮扣 等 基于 PVS 的时序逻辑语义模型及其实现，具体是以状态转换关系 R 自动展开程序的路径, 所针对的时序逻辑系统也不区分线性和计算树逻辑 , 是一种更为泛化的逻辑模型 .

半自动：

PVS(prototype verification system)是一个原型验证系统数学环境，由美国斯坦福研究院计算机科学实验室研究开发[3]它的核心系统由普通lisp实现，Emacs软件则提供了图形界面．系统可以在Linux操作系统下自由运行，但由于该研究项目受到美国国防部的支持，因此源代码和核心通用算法并未公开．PVS是一个通用的工具，既可以用来做辅助定理证明，也可用做模型验证．它由一个集成环境、一个PVS语言规范和一个PVS证明器组成．如果把某种逻辑用PVS语言加以描述，就可以用它来半自动半人工地以交互的方式实现该逻辑的定理明．这样，基于定理证明的软件验证就可以半自动地进行．

但是目前为止，大部分基于PVS的时序逻辑定理证明，都是基于语义实现的，通过PVS语法对状态以及状态的转移进行语义上的描述，当语义上有了准确的描述后，关于时序逻辑公理系统以及相关的推导规则就显得不是那么重要，对于任意的时序逻辑公式，可以通过时序算子进行语义上的展开，这时公式的正确性就显而易见了。本工作针对语法层次，着重于对时序逻辑的公理系统以及相关推理规则进行语法上的描述，当公理系统完备时，通过推理规则，便可以用于对任意时序逻辑公式的定理证明，此时的证明过程完全基于语法。

### 三、研究方案

#### 研究目标

通过对时序逻辑的

对卷积神经网络的形式化建模进行研究，在已有工作的基础上进一步探索神经网络形式化建模方法，能够对神经网络的训练与测试进行综合性建模。开发卷积神经网络建模工具，可由用户自定义卷积神经网络相关参数，生成神经网络的综合性形式化模型。

通过原型验证系统（PVS）对时序逻辑的公理系统以及相应的推导规则进行语法描述，开发出一套半自动的PPTL定理证明系统。该公理系统基于语法规则，具有可靠性、完备性。   （抽象）

#### 研究内容

为实现上述目标，本文基于PVS定理证明工具，对PPTL的语法模型进行相关描述，具体包括以下几点：

+ 熟悉时序的基本知识，对相关定理进行手动证明   (客观)   设计+实现
+ 定义一套完整的时序逻辑的公理系统   +修改调整    适用PVS

+ 通过PVS语言对PPTL时序算子进行描述

+ 通过PVS语言对PPTL公理系统进行描述
+ 通过PVS语言对PPTL推理规则进行描述

#### 拟解决的关键问题       2



+ 对推理规则定义以及命题重言式的判断    索引表达式
+ 如何提供一种良好的、面向用户的接口    

#### **拟采取的研究方法、技术路线、实验方案及可行性研究** 

+ 研究方法

  通过查阅文献，对基本的线性时序逻辑、区间时序逻辑进行理论学习，通过对应公理系统尝试手动证明相关定理

  对时序逻辑理论进一步学习，熟悉投影时序逻辑的公理系统、带有索引表达式的PPTL

  通过学习PVS官方教程，掌握PVS的使用

+ 技术路线   +

  关于PPTL，实验室有一套良好的理论基础

  PVS 	斯坦福大学开发的一款优秀的自动定理证明工具

+ 实验方案

  + 查阅文献，学习时序逻辑方面的基础理论
  + 熟悉PVS基本语法
  + 通过PVS对LTL、ITL、PTL、带有索引表达式的PTL

+ 可行性分析

  + 论文《Propositional Temporal Logics: Decidability and Completeness》提出PTL理论，并且介绍了对应的公理系统和推理规则，并手动对相关定理进行了证明。
  
  + 论文《Using PVS for Interval Temporal Logic Proofs∗ Part 1: The Syntactic and Semantic Encoding》使用PVS对ITL进行语法和语义上的描述。
  + 论文《A sound and complete proof system for a unified temporal logic 》 提出了带有索引表达式的PPTL，并介绍了原PPTL公理系统以及推理规则，同时提出了带有索引的PPTL的公理系统以及推理规则。

#### 研究计划及预期取得的研究成果

| 时间节点        | 预期研究成果                                     |
| --------------- | ------------------------------------------------ |
| 2021.03-2021.05 | 学习PVS的基本使用                                |
| 2021.05-2021.06 | 了解基本投影时序逻辑PTL、带有索引表达式的PPTL    |
| 2021.06-2021.08 | 认识时序逻辑的公理系统、推导规则，手动证明       |
| 2021.08-2021-11 | 通过PVS 对基本时序逻辑进行语法上的描述           |
| 2021.11-2022.02 | 通过PVS 对PPTL(带索引表达式)进行语法上的描述     |
| 2022.02-2022.04 | 完善PPTL的公理系统、进行测试、提供良好的交互界面 |
| 2022.04-2022.05 | 撰写论文                                         |



### 四、研究基础

#### 已具备的实验条件和研究工作积累

+ 实验条件

  PVS 6.0（虚拟机 Ubuntu 18.04）  

+ 研究工作积累

  实验室有一套完整的PTL模型、对带有索引表达式的PPTLI基本了解、对LTL、ITL相关语法语义、公理系统以及推导规则比较熟悉。

#### 已取得的科研成果

无

